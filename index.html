<!DOCTYPE html>
<html>
    <head>
        <title>LZCRS Test</title>
        <link rel="stylesheet" type="text/css" href="./css/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    </head>
    <body>
        <header>
            <h1>Lorpu Zarwu Christian Revival Day-Care and Primary School</h1>
            <h3>Chocolate City, Gardnersville</h3>
        </header>

        <hr>

        <div>
            <h3>First Marking Period Test</h3>
        </div>

        <form id="myform">
            
                <label for="name">Name:</label>
                <input id="name" required name="full name" type="text">
        
                <label for="class">Class</label>
                <select id="grade" name="class" required>
                    <option value="" disabled selected hidden>Select Class</option>
                    <option value="Grade 1">Grade 1</option>
                    <option value="Grade 2">Grade 2</option>
                    <option value="Grade 3">Grade 3</option>
                    <option value="Grade 4">Grade 4</option>
                    <option value="Grade 5">Grade 5</option>
                </select>

                <fieldset>
                    <label for="subject">Subject</label>
                    <input required type="radio" name="subject" value="english"> English
                    <input required type="radio" name="subject" value="science"> Science
                    <input required type="radio" name="subject" value="reading"> Reading
                    <input required type="radio" name="subject" value="social studies"> Social Studies
                </fieldset>

            <button type="button" id="submitBtn">Submit</button>
        </form>
        
        
    
    <!--JavaScript Files Links Below-->
    <script>
        const objectArray = [];

        // Function to handle form submission
        function handleSubmit(event) {
            event.preventDefault();

            // Get values from the form
            let name = document.getElementById('name').value;
            let grade = document.getElementById('grade').value;
            let subjectRadios = document.getElementsByName('subject');

            let selectedSubject = '';
            for (const radio of subjectRadios) {
                if (radio.checked) {
                    selectedSubject = radio.value;
                    break;
                }
            }

            // let english = document.getElementById('select-english').value
            // let science = document.getElementById('select-science').value
            // let reading = document.getElementById('select-reading').value
            // let social_studies = document.getElementById('select-social-studies').value


            // Create an object with the form data
            const formData = {
                name: name,
                grade: grade,
                subject: selectedSubject,
            };

            // Add the object to the array
            objectArray.push(formData);

            // Optional: Clear the form fields
            document.getElementById('name').value = '';
            document.getElementById('grade').value = '';
            subjectRadios.forEach(radio => {
                radio.checked = false
            });

            // Redirect to display.html with the objectArray as a query parameter
            const queryParams = `data=${encodeURIComponent(JSON.stringify(objectArray))}`;
            window.location.href = `question.html?${queryParams}`;
        }

        // Add an event listener to the submit button
        document.getElementById('submitBtn').addEventListener('click', handleSubmit);
    </script>    
    </body>
</html>
